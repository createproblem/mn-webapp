<?php

namespace g5\MovieBundle\Entity;

use Doctrine\ORM\EntityRepository;

use g5\AccountBundle\Entity\User;

/**
 * MovieRepository
 *
 * This class was generated by the Doctrine ORM. Add your own custom
 * repository methods below.
 */
class MovieRepository extends EntityRepository
{
    /**
     * @param  integer $id
     * @param  User    $user
     *
     * @return Movie
     */
    public function find($id, User $user = null)
    {
        $criteria['id'] = $id;

        if (null !== $user) {
            $criteria['user'] = $user;
        }

        return $this->findOneBy($criteria);
    }
}
